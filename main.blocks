<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="h/5Bu$[(a}GA/`y!Qjx,">message</variable><variable id="#JbozmmT`nCzI//CP@iA">mode</variable><variable id="_*uN:Z7w2_kVmFV%Kv58">speed</variable></variables><block type="pxt-on-start" id="nnVtI$[FNV)4t|OP5|;9" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="DtSX(U}mr^bLa0l!J}l]" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let display = 0" numlines="1" declaredvars="display"></mutation><next><block type="typescript_statement" id=":W)%^d:(FbOo)d_;_QMn" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let mode:MODE = 0" numlines="1" declaredvars="mode"></mutation><next><block type="typescript_statement" id="aq~b67D5s:^@/gDAd{k," editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="enum MODE {" line1="    MUSIC      = 1," line2="    ADVANCE    = 2," line3="    RIGHT_TURN = 4," line4="    STOP       = 5," line5="    LEFT_TURN  = 6," line6="    BACK       = 8," line7="    DISTANCE   = 99," line8=" }" numlines="9"></mutation><next><block type="variables_set" id="/LoxRmVO0-2g]I)k:Z9v"><field name="VAR" id="_*uN:Z7w2_kVmFV%Kv58">speed</field><value name="VALUE"><shadow type="math_number" id="UrHHqLIGv,=+vW(y)+D!"><field name="NUM">50</field></shadow></value><next><block type="device_start_melody" id="@?z(dqm!Pq1sD[0iixpb"><field name="options">MelodyOptions.Once</field><value name="melody"><block type="device_builtin_melody" id="?syR9AIod($sf%;P!C]E"><field name="melody">Melodies.Prelude</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="control_in_background" id="ucNXa(G#`UzACNeRNGo}" x="395" y="20"><statement name="HANDLER"><block type="device_while" id="nPnAjz3+!O047X)dU),t"><value name="COND"><shadow type="logic_boolean" id="=.[f_G;fn#x:RMIw$E5#"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="controls_if" id="`C,KI0^P@gXy.i9|0.nr"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="ofKBwU@|jyaDWiQo8]!."><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="wKhW*|2Oa35mF1vDcFJL"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="-^oOE`hipThh$CLG]/vb"><field name="VAR" id="#JbozmmT`nCzI//CP@iA">mode</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id=".(cA%Ct/q_@X(be(a{JZ" editable="false"><field name="EXPRESSION">MODE.BACK</field></block></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="35XmL,T)z%N{x8S/wGL["><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="5^3|zUq]eh#cHi|JCbP9"><field name="VAR" id="#JbozmmT`nCzI//CP@iA">mode</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="D4,vX_#8@Ht5v@bWYa!z" editable="false"><field name="EXPRESSION">MODE.STOP</field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="uh5nHOpjP_rv6M2Wf7G%"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="fx4YOs}wb{b)+|UEqa2G"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="m2n9(^G.g.S(x2:n!OIY"><field name="OP">LTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="ultrasonic_sensor" id="}N/H,8Hg5__VTJiQel5["><field name="unit">PingUnit.Centimeters</field></block></value><value name="B"><shadow type="math_number" id=",Y],w]B+lQDrR7.8iy+|"><field name="NUM">10</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="D_#O)0iW[Tmb^URx]?5!"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="ultrasonic_sensor" id="{wF1Oj2r%yhxEBT,`oB;"><field name="unit">PingUnit.Centimeters</field></block></value><value name="B"><shadow type="math_number" id="M@PoTYb4l=5y?(|Qx9kV"><field name="NUM">0</field></shadow></value></block></value></block></value><statement name="DO0"><block type="typescript_statement" id="ne;;wa_3sEV?:tXzMlJ;" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="mode = MODE.DISTANCE" numlines="1"></mutation><next><block type="typescript_statement" id="q8N3e/udwq.n2qh)Gz[1" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="basic.showIcon(IconNames.No, display)" numlines="1"></mutation></block></next></block></statement></block></statement><next><block type="device_pause" id="ERcw`ZHb03xL9n:YKO#I"><value name="pause"><shadow type="timePicker" id="d1a@995xKu0VQ-+Y/$+F"><field name="ms">50</field></shadow></value></block></next></block></statement></block></statement></block><block type="function_definition" id="!aV^]NA|HU,2M|ZJlAVk" x="1600" y="20"><mutation name="doMotor" functionid=".?)lN1F|I1uP9?y~L%qL"><arg name="action" id="retkkd5vj9c2xz305e1h" type="string"/><arg name="speed" id="hsjjejyhfffxl51vw7vef" type="number"/></mutation><field name="function_name">doMotor</field><statement name="STACK"><block type="typescript_statement" id="?GCXl.Eg;;Fgy9/b(Dce" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="switch (action) {" line1="        case &quot;advance&quot;:" line2="            maqueen.motorRun(maqueen.Motors.All, maqueen.Dir.CW, speed)" line3="            break" line4="        case &quot;back&quot;:" line5="            maqueen.motorRun(maqueen.Motors.All, maqueen.Dir.CCW, speed)" line6="            break" line7="        case &quot;left_turn&quot;:" line8="            maqueen.motorRun(maqueen.Motors.M1, maqueen.Dir.CW, speed)" line9="            maqueen.motorRun(maqueen.Motors.M2, maqueen.Dir.CW, 0)" line10="            break" line11="        case &quot;right_turn&quot;:" line12="            maqueen.motorRun(maqueen.Motors.M1, maqueen.Dir.CW, 0)" line13="            maqueen.motorRun(maqueen.Motors.M2, maqueen.Dir.CW, speed)" line14="            break" line15="    }" numlines="16"></mutation></block></statement></block><block type="IR_callbackUser" id="hrG6byu/k{UzA{uvnbZ!" x="2420" y="20"><field name="HANDLER_message" id="h/5Bu$[(a}GA/`y!Qjx,">message</field><statement name="HANDLER"><block type="variables_set" id=":;VDY?=!8`#UN6R/Ho=1"><field name="VAR" id="#JbozmmT`nCzI//CP@iA">mode</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="!u9,bg]op1NTi~+AHHyU"><field name="VAR" id="h/5Bu$[(a}GA/`y!Qjx,">message</field></block></value><next><block type="typescript_statement" id="Mc?XGrZ!pW*|T;BgePC|" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="switch (mode) {" line1="    case MODE.MUSIC:" line2="        break" line3="    case MODE.ADVANCE:" line4="        basic.showIcon(IconNames.Happy, display)" line5="        break" line6="    case MODE.BACK:" line7="        basic.showIcon(IconNames.Sad, display)" line8="        break" line9="    case MODE.LEFT_TURN:" line10="        basic.showArrow(ArrowNames.West, display)" line11="        break" line12="    case MODE.RIGHT_TURN:" line13="        basic.showArrow(ArrowNames.East, display)" line14="        break" line15="    case MODE.STOP:" line16="        basic.showIcon(IconNames.Asleep, display)" line17="        break" line18="    }" numlines="19"></mutation></block></next></block></statement></block><block type="device_forever" id="0Il08hMZs!xZ3t#j}MR2" x="20" y="961"><statement name="HANDLER"><block type="typescript_statement" id="jxnM6y|jV#Ay0zgm9;]J" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="switch (mode) {" line1="    case MODE.ADVANCE:" line2="        doMotor(&quot;advance&quot;, speed)" line3="        break" line4="    case MODE.BACK:" line5="        doMotor(&quot;back&quot;, speed)" line6="        break" line7="    case MODE.LEFT_TURN:" line8="        doMotor(&quot;left_turn&quot;, speed)" line9="        break" line10="    case MODE.RIGHT_TURN:" line11="        doMotor(&quot;right_turn&quot;, speed)" line12="        break" line13="    case MODE.STOP:" line14="        maqueen.motorStop(maqueen.Motors.All)" line15="        break" line16="    case MODE.DISTANCE:" line17="        mode = MODE.STOP" line18="        break" line19="    }" numlines="20"></mutation></block></statement></block></xml>